apiVersion: v1
kind: Namespace
metadata:
  name: garmin-n8n
---
apiVersion: k8s.mariadb.com/v1alpha1
kind: MariaDB
metadata:
  name: garmin-mariadb
  namespace: garmin-n8n
spec:
  database: garmindb
  image: mariadb:11.4
  passwordSecretKeyRef:
    key: password
    name: garmin-mariadb-credentials
  port: 3306
  replicas: 1
  rootPasswordSecretKeyRef:
    key: password
    name: garmin-mariadb-credentials
  service:
    type: ClusterIP
  storage:
    size: 20Gi
    storageClassName: longhorn
    volumeClaimTemplate:
      accessModes:
      - ReadWriteOnce
      resources:
        requests:
          storage: 20Gi
      storageClassName: longhorn
  username: garmindb

